{"ast":null,"code":"import React,{useState}from'react';import axios from'axios';import'./App.css';import ESGChart from'./ESGChart';// The chart component for displaying ESG scores\nimport{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";function App(){const[company,setCompany]=useState('');const[file,setFile]=useState(null);const[esgData,setEsgData]=useState(null);const[error,setError]=useState('');const[uploadedData,setUploadedData]=useState(null);const handleSearch=async()=>{try{const response=await axios.get(`http://localhost:5000/api/company/${company}`);setEsgData(response.data[0]);// Assuming response is an array\nsetError('');}catch(err){setError('Error fetching data');setEsgData(null);}};const handleFileUpload=e=>{setFile(e.target.files[0]);};const handleFileSubmit=async()=>{if(!file)return alert('Please upload a file first!');const formData=new FormData();formData.append('file',file);try{const response=await axios.post('http://localhost:5000/api/upload',formData,{headers:{'Content-Type':'multipart/form-data'}});setUploadedData(response.data.data);}catch(err){console.error('Error uploading file',err);}};const handleExportCSV=async()=>{try{const response=await axios.post('http://localhost:5000/api/export/csv',{data:esgData});const blob=new Blob([response.data],{type:'text/csv'});const url=window.URL.createObjectURL(blob);const a=document.createElement('a');a.href=url;a.download='esg-data.csv';a.click();}catch(err){console.error('Error exporting CSV',err);}};const handleExportPDF=async()=>{try{const response=await axios.post('http://localhost:5000/api/export/pdf',{data:esgData});const blob=new Blob([response.data],{type:'application/pdf'});const url=window.URL.createObjectURL(blob);const a=document.createElement('a');a.href=url;a.download='esg-report.pdf';a.click();}catch(err){console.error('Error exporting PDF',err);}};return/*#__PURE__*/_jsxs(\"div\",{className:\"App\",children:[/*#__PURE__*/_jsx(\"h1\",{children:\"Search ESG Data for a Company\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"search-container\",children:[/*#__PURE__*/_jsx(\"input\",{type:\"text\",placeholder:\"Enter company name\",value:company,onChange:e=>setCompany(e.target.value)}),/*#__PURE__*/_jsx(\"button\",{onClick:handleSearch,children:\"Search\"})]}),error&&/*#__PURE__*/_jsx(\"p\",{className:\"error\",children:error}),esgData&&/*#__PURE__*/_jsxs(\"div\",{className:\"esg-data-container\",children:[/*#__PURE__*/_jsx(\"h2\",{children:esgData.companyname}),/*#__PURE__*/_jsxs(\"p\",{children:[/*#__PURE__*/_jsx(\"strong\",{children:\"Industry:\"}),\" \",esgData.industry]}),/*#__PURE__*/_jsxs(\"p\",{children:[/*#__PURE__*/_jsx(\"strong\",{children:\"Country:\"}),\" \",esgData.country]}),/*#__PURE__*/_jsxs(\"p\",{children:[/*#__PURE__*/_jsx(\"strong\",{children:\"Overall Score:\"}),\" \",esgData[\"Overall Score\"]]}),/*#__PURE__*/_jsxs(\"p\",{children:[/*#__PURE__*/_jsx(\"strong\",{children:\"Transparency Score:\"}),\" \",esgData[\"Overall Transparency Score\"]]}),/*#__PURE__*/_jsxs(\"p\",{children:[/*#__PURE__*/_jsx(\"strong\",{children:\"Environmental Score:\"}),\" \",esgData[\"Environmental Pillar Score\"]]}),/*#__PURE__*/_jsxs(\"p\",{children:[/*#__PURE__*/_jsx(\"strong\",{children:\"Social Score:\"}),\" \",esgData[\"Social Pillar Score\"]]}),/*#__PURE__*/_jsxs(\"p\",{children:[/*#__PURE__*/_jsx(\"strong\",{children:\"Governance Score:\"}),\" \",esgData[\"Governance Pillar Score\"]]}),/*#__PURE__*/_jsx(\"button\",{onClick:handleExportCSV,children:\"Export CSV\"}),/*#__PURE__*/_jsx(\"button\",{onClick:handleExportPDF,children:\"Export PDF\"}),/*#__PURE__*/_jsx(ESGChart,{esgData:esgData})]}),/*#__PURE__*/_jsx(\"h2\",{children:\"Upload Historical ESG Data\"}),/*#__PURE__*/_jsx(\"input\",{type:\"file\",onChange:handleFileUpload}),/*#__PURE__*/_jsx(\"button\",{onClick:handleFileSubmit,children:\"Upload\"}),uploadedData&&/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"h2\",{children:\"Uploaded Data\"}),/*#__PURE__*/_jsx(\"pre\",{children:JSON.stringify(uploadedData,null,2)})]})]});}export default App;","map":{"version":3,"names":["React","useState","axios","ESGChart","jsx","_jsx","jsxs","_jsxs","App","company","setCompany","file","setFile","esgData","setEsgData","error","setError","uploadedData","setUploadedData","handleSearch","response","get","data","err","handleFileUpload","e","target","files","handleFileSubmit","alert","formData","FormData","append","post","headers","console","handleExportCSV","blob","Blob","type","url","window","URL","createObjectURL","a","document","createElement","href","download","click","handleExportPDF","className","children","placeholder","value","onChange","onClick","companyname","industry","country","JSON","stringify"],"sources":["C:/Users/Admin/Documents/My Assignments/ESG/esg-dashboard/src/App.js"],"sourcesContent":["import React, { useState } from 'react';\nimport axios from 'axios';\nimport './App.css';\nimport ESGChart from './ESGChart'; // The chart component for displaying ESG scores\n\nfunction App() {\n  const [company, setCompany] = useState('');\n  const [file, setFile] = useState(null);\n  const [esgData, setEsgData] = useState(null);\n  const [error, setError] = useState('');\n  const [uploadedData, setUploadedData] = useState(null);\n\n  const handleSearch = async () => {\n    try {\n      const response = await axios.get(`http://localhost:5000/api/company/${company}`);\n      setEsgData(response.data[0]); // Assuming response is an array\n      setError('');\n    } catch (err) {\n      setError('Error fetching data');\n      setEsgData(null);\n    }\n  };\n\n  const handleFileUpload = (e) => {\n    setFile(e.target.files[0]);\n  };\n\n  const handleFileSubmit = async () => {\n    if (!file) return alert('Please upload a file first!');\n    \n    const formData = new FormData();\n    formData.append('file', file);\n\n    try {\n      const response = await axios.post('http://localhost:5000/api/upload', formData, {\n        headers: {\n          'Content-Type': 'multipart/form-data',\n        },\n      });\n      setUploadedData(response.data.data);\n    } catch (err) {\n      console.error('Error uploading file', err);\n    }\n  };\n\n  const handleExportCSV = async () => {\n    try {\n      const response = await axios.post('http://localhost:5000/api/export/csv', { data: esgData });\n      const blob = new Blob([response.data], { type: 'text/csv' });\n      const url = window.URL.createObjectURL(blob);\n      const a = document.createElement('a');\n      a.href = url;\n      a.download = 'esg-data.csv';\n      a.click();\n    } catch (err) {\n      console.error('Error exporting CSV', err);\n    }\n  };\n\n  const handleExportPDF = async () => {\n    try {\n      const response = await axios.post('http://localhost:5000/api/export/pdf', { data: esgData });\n      const blob = new Blob([response.data], { type: 'application/pdf' });\n      const url = window.URL.createObjectURL(blob);\n      const a = document.createElement('a');\n      a.href = url;\n      a.download = 'esg-report.pdf';\n      a.click();\n    } catch (err) {\n      console.error('Error exporting PDF', err);\n    }\n  };\n\n  return (\n    <div className=\"App\">\n      <h1>Search ESG Data for a Company</h1>\n      <div className=\"search-container\">\n        <input\n          type=\"text\"\n          placeholder=\"Enter company name\"\n          value={company}\n          onChange={(e) => setCompany(e.target.value)}\n        />\n        <button onClick={handleSearch}>Search</button>\n      </div>\n\n      {error && <p className=\"error\">{error}</p>}\n\n      {esgData && (\n        <div className=\"esg-data-container\">\n          <h2>{esgData.companyname}</h2>\n          <p><strong>Industry:</strong> {esgData.industry}</p>\n          <p><strong>Country:</strong> {esgData.country}</p>\n          <p><strong>Overall Score:</strong> {esgData[\"Overall Score\"]}</p>\n          <p><strong>Transparency Score:</strong> {esgData[\"Overall Transparency Score\"]}</p>\n          <p><strong>Environmental Score:</strong> {esgData[\"Environmental Pillar Score\"]}</p>\n          <p><strong>Social Score:</strong> {esgData[\"Social Pillar Score\"]}</p>\n          <p><strong>Governance Score:</strong> {esgData[\"Governance Pillar Score\"]}</p>\n\n          <button onClick={handleExportCSV}>Export CSV</button>\n          <button onClick={handleExportPDF}>Export PDF</button>\n\n          {/* ESG Chart */}\n          <ESGChart esgData={esgData} />\n        </div>\n      )}\n\n      <h2>Upload Historical ESG Data</h2>\n      <input type=\"file\" onChange={handleFileUpload} />\n      <button onClick={handleFileSubmit}>Upload</button>\n\n      {uploadedData && (\n        <div>\n          <h2>Uploaded Data</h2>\n          <pre>{JSON.stringify(uploadedData, null, 2)}</pre>\n        </div>\n      )}\n    </div>\n  );\n}\n\nexport default App;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}